---
layout: docs
title: Debugging FS-UAE
permalink: docs/debugging/
---

<main><h1>Debugging FS-UAE</h1>
<p>This page contains some information on how you can better debug FS-UAE
problems. In general, checking the contents of <code>FS-UAE.log.txt</code> is a good
source of information, as is checking messages printed to stdout. You can make
FS-UAE print log output to stdout with:</p>
<pre><code>fs-uae --stdout
</code></pre>
<h2>Environment variables</h2>
<p>Some environment variables can be set to aid with debugging problems:</p>
<pre><code>export FS_DEBUG_INPUT=1
</code></pre>
<p>This will cause FS-UAE to log more information about input events to the log
file.</p>
<pre><code>export FS_DEBUG_FILESYS=1
</code></pre>
<p>This will cause FS-UAE to log all file system operations (for mounted
directories) to the log file.</p>
<pre><code>export FS_DEBUG_EVENTS=1
</code></pre>
<p>FIXME:</p>
<pre><code>export FS_DEBUG_FLUSH=1
</code></pre>
<p>FIXME:</p>
<h2>Compiling a debug version</h2>
<p>If you experience a crash, it is helpful to have a stack trace for when the
crash occurs. To compile a version suitable for debugging crashes, you might
want to compile a version with debug symbols (<code>-g</code>) and with optimizations
tuned for debugging (<code>-Og</code>):</p>
<pre><code>cd fs-uae-(version)
make clean
make make CFLAGS="-g -Og" CXXFLAGS="-g -Og"
</code></pre>
<p>You can run FS-UAE from the source directory without installing it, just stay
in the top of the project directory and run (using Linux as an example):</p>
<pre><code>./fs-uae &lt;optional args&gt;
</code></pre>
<p>You can run FS-UAE through gdb like this:</p>
<pre><code>gdb --args ./fs-uae &lt;other args&gt;
</code></pre>
<p>If the program crashes through gdb when input is grabbed, it can be a bit
awkward (you may need to switch to a virtual console and kill fs-uae/gdb), so
the following is highly recommended to avoid that from happening:</p>
<pre><code>gdb --args ./fs-uae --no-initial-input-grab &lt;other args&gt;
</code></pre>
<p>or, perhaps better: to make FS-UAE never grab input automatically - neither on
startup nor when clicking in the FS-UAE window:</p>
<pre><code>gdb --args ./fs-uae --no-automatic-input-grab &lt;other args&gt;
</code></pre></main>
